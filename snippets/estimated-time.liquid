<script src="https://cdnjs.cloudflare.com/ajax/libs/datejs/1.0/date.min.js"></script>

<div class="v-route-cont">
  <span class="ma2 white">Route and Estimated Delivery</span>
  <div>Estimated Arrival</div>
  <div id="estimatedEl" class="v-estimated-date"></div>
  <div class="v-route-wrapper">
    <div class="v-route-block">
      <img src="https://cdn.shopify.com/s/files/1/0587/8254/8168/files/volunteer_activism_24dp_FILL0_wght300_GRAD0_opsz24.png?v=1716398976">
      <div class="v-route-block-text">
        <span class="v-route-placed">25 Sep.</span>
      </div>
    </div>
    <div class="v-route-block">
      <img src="">
      <div class="v-route-block-text">
        <span class="v-route-dispatches">25 Sep.</span>
        <span>Order dispatches</span>
      </div>
    </div>
    <div class="v-route-block">
      <img src="">
      <div class="v-route-block-text">
        <span class="v-estimated-date">25 Sep.</span>
        <span>Delivery</span>
      </div>
    </div>
  </div>
</div>

<script>
  function etaDelivery() {
    var placedEl = document.getElementsByClassName('v-route-placed');
    var dispatchedEl = document.getElementsByClassName('v-route-dispatches');
    var estimatedEl = document.getElementsByClassName('v-estimated-date');

    var today = Date.today();

    var fromDate = Date.today().addDays(7);
    var toDate = Date.today().addDays(21);
    var processingFromDate = Date.today().addDays(2);
    var processingToDate = Date.today().addDays(5);

    if (fromDate.is().saturday() || fromDate.is().sunday()) {
      fromDate = fromDate.next().monday();
    }
    if (toDate.is().saturday() || toDate.is().sunday()) {
      toDate = toDate.next().monday();
    }
    if (processingFromDate.is().saturday() || processingFromDate.is().sunday()) {
      processingFromDate = processingFromDate.next().monday();
    }
    if (processingToDate.is().saturday() || processingToDate.is().sunday()) {
      processingToDate = processingToDate.next().monday();
    }

    for (let i = 0; i < placedEl.length; i++) {
      placedEl[i].innerHTML = today.toString('MMM dS');
    }
    for (let i = 0; i < estimatedEl.length; i++) {
      estimatedEl[i].innerHTML = fromDate.toString('MMM dS') + ' - ' + toDate.toString('MMM dS');
    }
    for (let i = 0; i < dispatchedEl.length; i++) {
      dispatchedEl[i].innerHTML = processingFromDate.toString('MMM dS') + ' - ' + processingToDate.toString('MMM dS');
    }
  }

  etaDelivery();
</script>
